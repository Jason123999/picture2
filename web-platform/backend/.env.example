# Backend environment configuration
ENV=local
APP_NAME=Photo Platform Backend
API_V1_PREFIX=/api

# Database configuration
DATABASE_URL=sqlite+aiosqlite:///./app.db

# JWT settings
JWT_SECRET_KEY=change-this-secret
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# Redis / task queue
REDIS_URL=redis://localhost:6379/0

# CORS
CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# CORS (production should set explicit allowed origins)
# 例如部署到 vercel.app 多站点：
# CORS_ALLOW_ORIGIN_REGEX=^https://([a-z0-9-]+\.)*vercel\.app$
# 例如部署到 example.com：
# CORS_ALLOW_ORIGIN_REGEX=^https?://([a-z0-9-]+\.)*example\.com$
CORS_ALLOW_ORIGIN_REGEX=

# Multi-tenant A mode (wildcard subdomain)
PLATFORM_ROOT_DOMAIN=
PLATFORM_APP_SUBDOMAIN=app
PLATFORM_API_SUBDOMAIN=api
TENANT_HEADER_NAME=x-tenant-slug

# Option 1: tenant.vercel.app provisioning (requires Vercel token + connected Git repo)
VERCEL_TOKEN=
VERCEL_TEAM_ID=
VERCEL_TEAM_SLUG=
VERCEL_GIT_PROVIDER=github
# format: <org>/<repo>
VERCEL_GIT_REPO=
VERCEL_GIT_REF=main
VERCEL_FRONTEND_ROOT_DIR=web-platform/frontend
# This must include /api, e.g. https://your-render-service.onrender.com/api
VERCEL_FRONTEND_API_BASE_URL=

# Storage configuration (local | supabase)
STORAGE_BACKEND=local
STORAGE_LOCAL_ROOT=./storage
STORAGE_PUBLIC_BASE_URL=http://127.0.0.1:8000/storage

# Supabase (only required when STORAGE_BACKEND=supabase)
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_STORAGE_BUCKET=photo-platform
SUPABASE_PUBLIC_URL=
